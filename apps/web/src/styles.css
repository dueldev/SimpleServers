@import url("https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap");

:root {
  --bg: #09111f;
  --bg-soft: #13243a;
  --surface: #1a2a42;
  --surface-strong: #223853;
  --surface-raised: #2d4968;
  --text: #eaf4ff;
  --text-soft: #a9c0da;
  --border: #365778;
  --primary: #12d7bc;
  --primary-strong: #06a88f;
  --primary-soft: rgba(18, 215, 188, 0.14);
  --danger: #ff6767;
  --danger-soft: rgba(255, 103, 103, 0.18);
  --warning: #ffcf73;
  --warning-soft: rgba(255, 207, 115, 0.16);
  --bg-grad-a: rgba(17, 211, 197, 0.23);
  --bg-grad-b: rgba(255, 177, 64, 0.2);
  --bg-grad-c: #0a1322;
  --bg-grad-d: #102037;
  --bg-grad-e: #0a1424;
  --hero-grad-a: rgba(33, 198, 222, 0.18);
  --hero-grad-b: #1e3453;
  --hero-grad-c: #182940;
  --hero-grad-d: #233b5d;
  --panel-grad-a: #1c2f47;
  --panel-grad-b: #17283d;
  --panel-shadow: 0 10px 24px rgba(3, 10, 20, 0.35);
  --link: #84ede1;
  --radius: 16px;
  --shadow: 0 22px 52px rgba(3, 8, 18, 0.45);
}

[data-theme="dark"] {
  --bg: #0c121c;
  --bg-soft: #172231;
  --surface: #1e2939;
  --surface-strong: #25354b;
  --surface-raised: #314964;
  --text: #ecf1f9;
  --text-soft: #b2bfd2;
  --border: #3f536f;
  --primary: #2bc3ad;
  --primary-strong: #1f9988;
  --primary-soft: rgba(43, 195, 173, 0.16);
  --danger: #ef6f6f;
  --danger-soft: rgba(239, 111, 111, 0.18);
  --warning: #f1c978;
  --warning-soft: rgba(241, 201, 120, 0.18);
  --bg-grad-a: rgba(43, 195, 173, 0.16);
  --bg-grad-b: rgba(244, 188, 95, 0.15);
  --bg-grad-c: #0c121c;
  --bg-grad-d: #121c2a;
  --bg-grad-e: #0f1826;
  --hero-grad-a: rgba(43, 195, 173, 0.15);
  --hero-grad-b: #223245;
  --hero-grad-c: #192737;
  --hero-grad-d: #26394f;
  --panel-grad-a: #1c2a3e;
  --panel-grad-b: #172233;
  --panel-shadow: 0 10px 24px rgba(3, 10, 20, 0.35);
  --link: #8ce6dc;
}

[data-theme="light"] {
  --bg: #f4f8ff;
  --bg-soft: #e6eef9;
  --surface: #ffffff;
  --surface-strong: #f1f6ff;
  --surface-raised: #e7f0ff;
  --text: #10233d;
  --text-soft: #4b6582;
  --border: #bfd2ea;
  --primary: #0b9f86;
  --primary-strong: #077763;
  --primary-soft: rgba(11, 159, 134, 0.14);
  --danger: #d83e3e;
  --danger-soft: rgba(216, 62, 62, 0.12);
  --warning: #cc8a21;
  --warning-soft: rgba(204, 138, 33, 0.12);
  --bg-grad-a: rgba(0, 169, 142, 0.11);
  --bg-grad-b: rgba(255, 166, 59, 0.11);
  --bg-grad-c: #f6fbff;
  --bg-grad-d: #eef6ff;
  --bg-grad-e: #edf5ff;
  --hero-grad-a: rgba(0, 169, 142, 0.12);
  --hero-grad-b: #f3f8ff;
  --hero-grad-c: #eef5ff;
  --hero-grad-d: #f7fbff;
  --panel-grad-a: #ffffff;
  --panel-grad-b: #f5f9ff;
  --panel-shadow: 0 10px 24px rgba(89, 121, 158, 0.2);
  --link: #006f83;
  --shadow: 0 20px 45px rgba(113, 145, 178, 0.28);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  color: var(--text);
  font-family: "Sora", "Avenir Next", "Segoe UI", sans-serif;
  background:
    radial-gradient(circle at 8% 8%, var(--bg-grad-a), transparent 38%),
    radial-gradient(circle at 92% 12%, var(--bg-grad-b), transparent 38%),
    linear-gradient(168deg, var(--bg-grad-c) 0%, var(--bg-grad-d) 48%, var(--bg-grad-e) 100%);
  min-height: 100vh;
}

code,
textarea {
  font-family: "JetBrains Mono", "IBM Plex Mono", monospace;
}

a {
  color: var(--link);
}

.app-shell {
  width: min(1320px, 95vw);
  margin: 18px auto 70px;
  display: grid;
  gap: 14px;
}

.hero {
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 22px;
  box-shadow: var(--shadow);
  display: grid;
  grid-template-columns: minmax(0, 1.5fr) minmax(330px, 1fr);
  gap: 16px;
  align-items: start;
  background:
    radial-gradient(circle at 10% 20%, var(--hero-grad-a), transparent 34%),
    linear-gradient(138deg, var(--hero-grad-b) 0%, var(--hero-grad-c) 62%, var(--hero-grad-d) 100%);
}

.hero h1 {
  margin: 0;
  font-size: clamp(2rem, 3vw, 2.8rem);
  line-height: 1.1;
  letter-spacing: -0.02em;
}

.hero p {
  color: var(--text-soft);
  margin: 9px 0 0;
  max-width: 65ch;
  line-height: 1.45;
}

.hero-meta {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.auth-box {
  min-width: min(430px, 100%);
  display: grid;
  gap: 8px;
}

.panel {
  background: linear-gradient(175deg, var(--panel-grad-a) 0%, var(--panel-grad-b) 100%);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--panel-shadow);
  animation: panel-rise 280ms ease both;
}

.panel h2,
.panel h3 {
  margin: 0 0 8px;
}

.skip-link {
  position: absolute;
  left: 14px;
  top: -120px;
  z-index: 50;
  padding: 10px 12px;
  border-radius: 10px;
  background: var(--surface-strong);
  border: 1px solid var(--border);
  color: var(--text);
  transition: top 120ms ease;
}

.skip-link:focus-visible {
  top: 12px;
}

.command-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  margin: 12px 0;
}

.next-action-card {
  border-color: color-mix(in srgb, var(--primary) 42%, var(--border));
  background:
    radial-gradient(circle at 6% 8%, color-mix(in srgb, var(--primary) 24%, transparent), transparent 48%),
    linear-gradient(166deg, color-mix(in srgb, var(--surface-strong) 90%, transparent), color-mix(in srgb, var(--surface) 92%, transparent));
}

.next-action-card .inline-actions {
  margin-top: 8px;
}

.primary-cta {
  min-height: 56px;
  font-size: 1rem;
  background: linear-gradient(160deg, var(--primary) 0%, var(--primary-strong) 100%);
  color: #061e18;
  border-color: transparent;
}

.primary-cta.secondary {
  background: linear-gradient(160deg, #ffb34f 0%, #ef8f2a 100%);
  color: #291402;
}

.goal-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

.goal-card {
  display: grid;
  gap: 10px;
}

.advisor-stats {
  margin-bottom: 10px;
}

.network-health .list li {
  align-items: center;
}

.runbook-list {
  margin: 0;
  padding-left: 20px;
  display: grid;
  gap: 8px;
}

.runbook-list li {
  color: var(--text-soft);
}

.runbook-list li strong {
  display: block;
  color: var(--text);
}

.control-strip {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.view-nav {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.view-nav button {
  background: var(--surface-strong);
  border-color: var(--border);
  color: var(--text);
  min-width: 94px;
  font-weight: 600;
}

.view-nav button.active {
  background: linear-gradient(156deg, var(--primary) 0%, var(--primary-strong) 100%);
  color: #042119;
  border-color: transparent;
}

.context-strip {
  display: flex;
  gap: 12px;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
}

.context-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

.stats-grid article {
  background: linear-gradient(180deg, var(--surface-strong) 0%, var(--surface) 100%);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px;
  display: grid;
  gap: 4px;
}

.stats-grid h3 {
  margin: 0;
  font-size: 0.95rem;
  color: var(--text-soft);
}

.stats-grid strong {
  font-size: clamp(1.6rem, 2vw, 2.2rem);
}

.quick-host-status {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
  display: grid;
  gap: 6px;
}

.diagnostics-box,
.recovery-box {
  margin-top: 10px;
  padding: 10px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: linear-gradient(160deg, color-mix(in srgb, var(--surface-strong) 86%, transparent), color-mix(in srgb, var(--surface) 90%, transparent));
}

.diagnostics-box h3,
.recovery-box h3 {
  margin: 0 0 6px;
}

.setup-recipes {
  margin-top: 12px;
  margin-bottom: 12px;
  padding: 10px;
  border: 1px dashed var(--border);
  border-radius: 12px;
  background: linear-gradient(158deg, color-mix(in srgb, var(--surface-strong) 84%, transparent), color-mix(in srgb, var(--surface) 88%, transparent));
}

.setup-recipes h3 {
  margin: 0 0 6px;
}

.preset-grid {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  margin: 10px 0 12px;
}

.preset-card {
  text-align: left;
  display: grid;
  gap: 7px;
  min-height: 130px;
  background: linear-gradient(150deg, var(--surface-strong) 0%, var(--surface) 100%);
  border-color: var(--border);
}

.preset-card strong {
  font-size: 0.95rem;
}

.preset-card-description {
  margin: 0;
  color: var(--text-soft);
  line-height: 1.4;
}

.preset-card .status-pill {
  justify-self: start;
}

.preset-card.active {
  border-color: var(--primary);
  background: linear-gradient(150deg, color-mix(in srgb, var(--primary) 26%, transparent), color-mix(in srgb, var(--surface) 82%, transparent));
}

.grid-form {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 10px;
}

.dual-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

label {
  display: grid;
  gap: 4px;
  font-size: 0.9rem;
  color: var(--text-soft);
}

.compact-field {
  min-width: 220px;
}

.toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text);
}

input,
select,
button,
textarea {
  border-radius: 11px;
  border: 1px solid var(--border);
  background: var(--surface-strong);
  color: var(--text);
  padding: 10px;
  font-size: 0.94rem;
}

input::placeholder,
textarea::placeholder {
  color: #8fa5bf;
}

textarea {
  width: 100%;
  resize: vertical;
  line-height: 1.45;
}

button {
  cursor: pointer;
  transition: transform 0.14s ease, background 0.14s ease, border-color 0.14s ease;
  background: linear-gradient(162deg, var(--surface-raised) 0%, var(--surface-strong) 100%);
  border-color: var(--border);
  font-weight: 600;
}

button:hover:not(:disabled) {
  transform: translateY(-1px);
  border-color: var(--primary);
}

button:disabled {
  opacity: 0.58;
  cursor: not-allowed;
}

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

.danger-btn {
  background: linear-gradient(160deg, #5f2831 0%, #4d1e2a 100%);
  border-color: #9d4d5c;
  color: #ffdede;
}

.danger-btn:hover:not(:disabled) {
  border-color: #f08d9b;
}

.inline-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.error-banner {
  background: var(--danger-soft);
  border: 1px solid rgba(241, 103, 103, 0.48);
  color: #ffd4d4;
  border-radius: 12px;
  padding: 10px 12px;
}

.notice-banner {
  background: var(--primary-soft);
  border: 1px solid color-mix(in srgb, var(--primary) 54%, transparent);
  color: color-mix(in srgb, var(--text) 82%, white);
  border-radius: 12px;
  padding: 10px 12px;
}

.muted-note {
  color: var(--text-soft);
  font-size: 0.91rem;
  line-height: 1.45;
}

.status-pill {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.03em;
  text-transform: uppercase;
  padding: 4px 9px;
  border: 1px solid transparent;
  line-height: 1.2;
}

.tone-ok {
  background: rgba(68, 221, 186, 0.2);
  color: #86f0db;
  border-color: rgba(68, 221, 186, 0.4);
}

.tone-warn {
  background: var(--warning-soft);
  color: #ffd68c;
  border-color: rgba(241, 201, 112, 0.43);
}

.tone-error {
  background: var(--danger-soft);
  color: #ffb6b6;
  border-color: rgba(241, 103, 103, 0.44);
}

.tone-neutral {
  background: rgba(144, 173, 206, 0.16);
  color: #bed0e6;
  border-color: rgba(144, 173, 206, 0.32);
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.93rem;
}

th,
td {
  text-align: left;
  padding: 8px 10px;
  border-bottom: 1px solid var(--border);
  vertical-align: top;
}

th {
  color: var(--text-soft);
  font-weight: 600;
}

.selected {
  background: color-mix(in srgb, var(--primary) 18%, transparent);
}

.link-btn {
  background: transparent;
  border: none;
  color: var(--link);
  padding: 0;
  font-weight: 600;
}

.log-box {
  max-height: 360px;
  overflow: auto;
  background: color-mix(in srgb, var(--bg) 90%, black);
  color: color-mix(in srgb, var(--text) 90%, white);
  border-radius: 12px;
  padding: 10px;
  border: 1px solid var(--border);
}

.log-box div {
  line-height: 1.5;
  font-family: "JetBrains Mono", monospace;
  font-size: 0.84rem;
}

.log-box span {
  color: #79dacd;
}

.diff-box {
  max-height: 200px;
  overflow: auto;
  background: color-mix(in srgb, var(--bg) 80%, var(--surface));
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px;
  font-family: "JetBrains Mono", monospace;
  font-size: 0.81rem;
}

.diff-add {
  color: #72ebb9;
}

.diff-remove {
  color: #f09494;
}

.list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 8px;
}

.list-compact {
  margin-top: 4px;
  margin-bottom: 10px;
}

.list li {
  background: linear-gradient(171deg, var(--surface-strong) 0%, var(--surface) 100%);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  transition: border-color 0.14s ease, transform 0.14s ease;
}

.list li div {
  display: grid;
  gap: 3px;
}

.list li:hover {
  border-color: color-mix(in srgb, var(--primary) 50%, var(--border));
  transform: translateY(-1px);
}

.tip-list {
  margin: 0 0 10px;
  padding-left: 18px;
  display: grid;
  gap: 5px;
  color: var(--text-soft);
  font-size: 0.9rem;
  line-height: 1.4;
}

.empty-table-note {
  color: var(--text-soft);
  font-size: 0.9rem;
}

.resolved {
  color: #f7c974;
}

.advanced-panel summary {
  cursor: pointer;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 10px;
}

.advanced-panel[open] {
  background: linear-gradient(175deg, color-mix(in srgb, var(--surface) 96%, white), var(--panel-grad-b) 100%);
}

.file-editor-toolbar {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: end;
  margin-bottom: 10px;
}

.file-editor-grid {
  display: grid;
  grid-template-columns: minmax(230px, 300px) minmax(0, 1fr);
  gap: 10px;
  margin-bottom: 10px;
}

.file-list {
  max-height: 430px;
  overflow: auto;
  border: 1px solid var(--border);
  border-radius: 11px;
  background: color-mix(in srgb, var(--surface) 92%, var(--bg));
  padding: 8px;
  display: grid;
  gap: 6px;
  align-content: start;
}

.file-list-item {
  width: 100%;
  text-align: left;
  display: grid;
  gap: 3px;
  background: var(--surface-strong);
  border-color: var(--border);
}

.file-list-item small {
  color: #9eb4ce;
  font-size: 0.76rem;
}

.file-list-item.active {
  background: linear-gradient(150deg, color-mix(in srgb, var(--primary) 30%, transparent), color-mix(in srgb, var(--surface-strong) 75%, transparent));
  border-color: var(--primary);
}

.audit-list {
  max-height: 320px;
  overflow: auto;
  display: grid;
  gap: 6px;
}

.audit-list div {
  display: grid;
  gap: 2px;
  padding: 8px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-strong) 90%, transparent);
}

.audit-list span {
  color: var(--text-soft);
  font-size: 0.85rem;
}

.command-palette-backdrop {
  position: fixed;
  inset: 0;
  z-index: 80;
  background: rgba(4, 8, 14, 0.65);
  display: grid;
  place-items: start center;
  padding: 80px 16px 24px;
}

.command-palette {
  width: min(760px, 96vw);
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--primary) 40%, var(--border));
  background: linear-gradient(170deg, var(--surface-strong), var(--surface));
  box-shadow: 0 28px 64px rgba(0, 0, 0, 0.44);
  padding: 14px;
  display: grid;
  gap: 10px;
}

.command-palette-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.command-palette-header h2 {
  margin: 0;
  font-size: 1.05rem;
}

.command-palette-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 8px;
  max-height: min(52vh, 460px);
  overflow: auto;
}

.command-palette-list li button {
  width: 100%;
  text-align: left;
  display: grid;
  gap: 3px;
  background: linear-gradient(160deg, color-mix(in srgb, var(--surface-raised) 95%, transparent), var(--surface-strong));
}

.command-palette-list li button strong {
  font-size: 0.93rem;
}

.command-palette-list li button span {
  color: var(--text-soft);
  font-size: 0.83rem;
}

@media (max-width: 1100px) {
  .hero {
    grid-template-columns: 1fr;
  }

  .dual-grid {
    grid-template-columns: 1fr;
  }

  .stats-grid {
    grid-template-columns: 1fr;
  }

  .file-editor-grid {
    grid-template-columns: 1fr;
  }

  .file-list {
    max-height: 260px;
  }

  .goal-grid {
    grid-template-columns: 1fr;
  }

  .command-grid {
    grid-template-columns: 1fr;
  }
}

@keyframes panel-rise {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 760px) {
  .app-shell {
    width: min(100vw, 100%);
    padding: 10px;
    margin: 10px auto 40px;
  }

  .hero {
    padding: 14px;
  }

  .panel {
    padding: 12px;
  }

  .context-strip {
    align-items: stretch;
  }

  .compact-field {
    width: 100%;
  }

  .view-nav button {
    flex: 1 1 calc(50% - 8px);
  }

  .inline-actions {
    width: 100%;
  }

  .inline-actions button {
    flex: 1;
  }

  .file-editor-toolbar {
    align-items: stretch;
  }

  .command-palette-backdrop {
    padding-top: 20px;
  }

  .command-palette {
    width: 100%;
    border-radius: 12px;
  }
}
