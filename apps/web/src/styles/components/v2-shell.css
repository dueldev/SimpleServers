.v2-connection {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(340px, 1fr);
  gap: var(--space-6);
  border-radius: 22px;
  box-shadow: var(--v2-elev-2);
}

.v2-connection-title h1 {
  margin: 0;
  font-size: clamp(1.85rem, 2.6vw, 2.45rem);
  line-height: 1.1;
}

.v2-connection-title p {
  margin: 8px 0 0;
  color: var(--text-soft);
}

.v2-connection-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
  margin-top: var(--space-4);
}

.v2-connection-form {
  display: grid;
  gap: var(--space-3);
  align-content: start;
}

.v2-shell .inline-actions {
  gap: var(--space-3);
}

.v2-shell .grid-form {
  gap: var(--space-4);
}

.v2-servers {
  display: grid;
  gap: var(--space-6);
}

.v2-server-summary-grid {
  display: grid;
  gap: var(--space-4);
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.v2-server-summary-grid .panel {
  display: grid;
  gap: var(--space-2);
}

.v2-server-summary-grid .panel h3 {
  margin: 0;
  color: var(--text-soft);
  font-size: 0.85rem;
}

.v2-server-summary-grid .panel strong {
  font-size: 1.8rem;
  line-height: 1.15;
}

.v2-servers-toolbar {
  display: flex;
  justify-content: space-between;
  gap: var(--space-5);
  align-items: flex-end;
  flex-wrap: wrap;
}

.v2-servers-table-wrap table th:first-child,
.v2-servers-table-wrap table td:first-child {
  width: 44px;
  text-align: center;
}

.table-checkbox {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.v2-server-row-actions {
  gap: var(--space-2);
}

.v2-server-row-actions button {
  min-height: 36px;
  padding: 6px 10px;
}

.v2-server-bulk-bar {
  position: sticky;
  top: 8px;
  z-index: 8;
  display: flex;
  gap: var(--space-4);
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  border-color: color-mix(in srgb, var(--primary) 44%, var(--border));
  box-shadow: var(--v2-elev-2);
}

.v2-server-bulk-bar p {
  margin: 4px 0 0;
}

.v2-empty-state {
  min-height: 280px;
  display: grid;
  place-items: center;
  text-align: center;
  gap: var(--space-4);
  border-radius: 22px;
  border-color: color-mix(in srgb, var(--primary) 36%, var(--border));
  box-shadow: var(--v2-elev-2);
}

.v2-wizard-backdrop {
  position: fixed;
  inset: 0;
  z-index: 95;
  background: rgba(4, 10, 18, 0.68);
  display: grid;
  place-items: center;
  padding: 20px;
}

.v2-wizard {
  width: min(980px, 96vw);
  max-height: calc(100vh - 40px);
  overflow: auto;
  box-shadow: var(--v2-elev-3);
  border-radius: 20px;
  display: grid;
  gap: var(--space-5);
}

.v2-wizard-header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: start;
}

.v2-wizard-header h2 {
  margin: 0;
}

.v2-wizard-steps {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 8px;
}

.v2-wizard-steps li button {
  width: 100%;
  min-height: 42px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 0.84rem;
  border-radius: 999px;
  background: color-mix(in srgb, var(--surface) 90%, transparent);
}

.v2-wizard-steps li button span {
  width: 22px;
  height: 22px;
  border-radius: 999px;
  display: inline-grid;
  place-items: center;
  background: color-mix(in srgb, var(--surface-raised) 90%, transparent);
  font-size: 0.76rem;
}

.v2-wizard-steps li.active button {
  border-color: color-mix(in srgb, var(--primary) 70%, var(--border));
  background: color-mix(in srgb, var(--primary) 18%, transparent);
}

.v2-wizard-steps li.done button {
  border-color: rgba(68, 221, 186, 0.45);
}

.v2-step-block {
  display: grid;
  gap: var(--space-4);
}

.v2-step-block h3 {
  margin: 0;
}

.v2-server-type-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-4);
}

.v2-server-type-grid button {
  text-align: left;
  display: grid;
  gap: 8px;
  min-height: 168px;
}

.v2-server-type-grid button small {
  color: var(--text-soft);
}

.v2-server-type-grid button.active {
  border-color: color-mix(in srgb, var(--primary) 70%, var(--border));
  background: linear-gradient(160deg, color-mix(in srgb, var(--primary) 22%, transparent), color-mix(in srgb, var(--surface) 90%, transparent));
}

.v2-memory-preset-row {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-3);
}

.v2-memory-preset-row button.active {
  border-color: var(--primary);
}

.v2-memory-band {
  border: 1px solid var(--border);
  border-radius: var(--v2-radius-md);
  overflow: hidden;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.v2-memory-band span {
  padding: 9px 10px;
  text-align: center;
  color: var(--text-soft);
  background: color-mix(in srgb, var(--surface) 90%, transparent);
}

.v2-memory-band span.active {
  color: var(--text);
  background: color-mix(in srgb, var(--primary) 18%, transparent);
}

.v2-wizard-launch,
.v2-wizard-done {
  display: grid;
  gap: var(--space-4);
}

.v2-wizard-address {
  border: 1px solid var(--border);
  border-radius: var(--v2-radius-sm);
  padding: 10px;
  display: grid;
  gap: 6px;
}

.v2-wizard-actions {
  display: flex;
  justify-content: space-between;
  gap: var(--space-4);
}

.v2-workspace {
  display: grid;
  gap: var(--space-6);
}

.v2-workspace-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.v2-workspace-header h2 {
  margin: 0;
}

.v2-workspace-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
}

.v2-workspace-controls {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: var(--space-4);
  align-items: center;
}

.v2-workspace-controls h3 {
  margin: 0;
}

.v2-workspace-grid {
  display: grid;
  grid-template-columns: minmax(0, 1.65fr) minmax(300px, 0.75fr);
  gap: var(--space-5);
  align-items: start;
}

.v2-workspace-main {
  display: grid;
  gap: var(--space-4);
}

.v2-workspace-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  border-bottom: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
  padding-bottom: var(--space-3);
}

.v2-workspace-tabs button {
  min-width: 108px;
}

.v2-workspace-tabs button[role="tab"] {
  border-radius: 999px;
}

.v2-workspace-tabs button.active,
.v2-workspace-tabs button[aria-selected="true"] {
  border-color: color-mix(in srgb, var(--primary) 66%, var(--border));
  background: color-mix(in srgb, var(--primary) 18%, transparent);
}

.v2-tab-content {
  display: grid;
  gap: var(--space-5);
  padding-top: var(--space-2);
}

.v2-workspace-rail {
  display: grid;
  gap: var(--space-4);
  align-content: start;
}

.v2-rail-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-4);
}

.v2-rail-header h3 {
  margin: 0;
}

.v2-dashboard-tab,
.v2-console-tab,
.v2-players-tab,
.v2-plugins-tab,
.v2-backups-tab,
.v2-scheduler-tab,
.v2-settings-tab {
  display: grid;
  gap: var(--space-5);
}

.v2-plugin-search-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: var(--space-4);
  align-items: end;
}

.v2-plugin-search-field {
  min-width: 0;
}

.v2-plugin-search-field input {
  width: 100%;
}

.v2-plugin-filters {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.v2-plugin-selection-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  flex-wrap: wrap;
  border-color: color-mix(in srgb, var(--primary) 40%, var(--border));
}

.v2-plugin-selection-bar p {
  margin: 4px 0 0;
}

.v2-plugin-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-4);
}

.v2-plugin-card {
  border: 1px solid color-mix(in srgb, var(--border) 82%, transparent);
  border-radius: var(--v2-radius-md);
  background: color-mix(in srgb, var(--surface-strong) 78%, transparent);
  padding: var(--space-4);
  display: grid;
  gap: var(--space-3);
}

.v2-plugin-card-header {
  display: flex;
  justify-content: space-between;
  gap: var(--space-3);
  align-items: center;
}

.v2-plugin-card-body {
  display: grid;
  grid-template-columns: 52px minmax(0, 1fr);
  gap: var(--space-3);
  align-items: start;
}

.v2-plugin-card-body h4 {
  margin: 0;
  font-size: 1rem;
}

.v2-plugin-card-body p {
  margin: 6px 0 0;
  font-size: 0.9rem;
}

.v2-plugin-card-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  color: var(--text-soft);
  font-size: 0.82rem;
}

.v2-plugin-avatar {
  width: 52px;
  height: 52px;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid color-mix(in srgb, var(--border) 72%, transparent);
  background: color-mix(in srgb, var(--surface) 88%, transparent);
  display: grid;
  place-items: center;
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text-soft);
}

.v2-plugin-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.v2-plugin-empty {
  border: 1px dashed color-mix(in srgb, var(--border) 80%, transparent);
  border-radius: var(--v2-radius-md);
  padding: var(--space-5);
  display: grid;
  gap: var(--space-2);
  color: var(--text-soft);
}

.v2-console-tab .log-box {
  min-height: 260px;
  max-height: 420px;
  padding: var(--space-4);
}

.v2-console-tab .log-box div {
  line-height: 1.6;
}

.v2-console-composer {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: var(--space-4);
  align-items: end;
}

.v2-console-command-field {
  min-width: 0;
}

.v2-console-command-field input {
  width: 100%;
}

.v2-console-command-actions {
  display: inline-flex;
  gap: var(--space-3);
  align-items: center;
}

.v2-console-command-actions button {
  min-width: 96px;
}

.v2-console-quick-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
}

.v2-console-quick-actions button {
  min-height: 36px;
  padding: 6px 10px;
  font-size: 0.85rem;
}

.v2-metric-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-4);
}

.v2-metric-grid article {
  border: 1px solid var(--border);
  border-radius: var(--v2-radius-md);
  padding: var(--space-4);
  background: linear-gradient(175deg, color-mix(in srgb, var(--surface-strong) 90%, transparent), color-mix(in srgb, var(--surface) 92%, transparent));
}

.v2-metric-grid h3 {
  margin: 0;
  font-size: 0.92rem;
  color: var(--text-soft);
}

.v2-metric-grid strong {
  display: block;
  margin-top: 4px;
  font-size: 1.9rem;
  line-height: 1.15;
}

.v2-chart-panel {
  display: grid;
  gap: var(--space-4);
}

.v2-chart-header {
  display: flex;
  justify-content: space-between;
  gap: var(--space-4);
  align-items: center;
  flex-wrap: wrap;
}

.v2-chart-header h3 {
  margin: 0;
}

.v2-startup-chart {
  width: 100%;
  height: auto;
  border: 1px solid var(--border);
  border-radius: var(--v2-radius-md);
  background: color-mix(in srgb, var(--surface) 94%, transparent);
  padding: var(--space-4);
}

.player-row-btn {
  width: 100%;
  text-align: left;
  background: transparent;
  border: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
  padding: var(--space-3);
  border-radius: var(--v2-radius-sm);
}

.player-row-btn div {
  display: grid;
  gap: var(--space-2);
}

.player-row-btn strong {
  line-height: 1.2;
}

.player-row-btn span {
  color: var(--text-soft);
}

.player-row-btn:hover:not(:disabled) {
  border-color: color-mix(in srgb, var(--primary) 62%, var(--border));
  background: color-mix(in srgb, var(--primary) 10%, transparent);
  transform: none;
}

.v2-modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 110;
  background: rgba(5, 10, 18, 0.68);
  display: grid;
  place-items: center;
  padding: var(--space-5);
}

.v2-modal {
  width: min(560px, 96vw);
  display: grid;
  gap: var(--space-4);
  box-shadow: var(--v2-elev-3);
  max-height: calc(100vh - 48px);
  overflow: auto;
}

.v2-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: start;
  gap: var(--space-4);
}

.v2-modal-header h3 {
  margin: 0;
}

.v2-modal-header p {
  margin: 4px 0 0;
}

.v2-modal-actions button {
  min-height: 42px;
}

.v2-startup-chart path {
  fill: none;
  stroke: color-mix(in srgb, var(--primary) 70%, #b57bff);
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
}

@media (max-width: 1100px) {
  .v2-connection {
    grid-template-columns: 1fr;
  }

  .v2-workspace-grid {
    grid-template-columns: 1fr;
  }

  .v2-metric-grid {
    grid-template-columns: 1fr;
  }

  .v2-server-type-grid {
    grid-template-columns: 1fr;
  }

  .v2-server-summary-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .v2-plugin-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 760px) {
  .v2-wizard {
    width: 100%;
    border-radius: 12px;
  }

  .v2-wizard-steps {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .v2-wizard-actions {
    flex-direction: column;
  }

  .v2-connection-form {
    grid-template-columns: 1fr;
  }

  .v2-console-composer {
    grid-template-columns: 1fr;
  }

  .v2-console-command-actions {
    justify-content: stretch;
  }

  .v2-console-command-actions button {
    flex: 1 1 0;
  }

  .v2-server-summary-grid,
  .v2-plugin-grid {
    grid-template-columns: 1fr;
  }

  .v2-plugin-search-row {
    grid-template-columns: 1fr;
  }

  .v2-server-bulk-bar .inline-actions,
  .v2-plugin-selection-bar .inline-actions {
    width: 100%;
  }

  .v2-server-bulk-bar .inline-actions button,
  .v2-plugin-selection-bar .inline-actions button {
    flex: 1 1 0;
  }
}
